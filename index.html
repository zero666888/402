<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5, viewport-fit=cover" />
    <meta name="theme-color" content="#f59e0b" />
    <meta name="format-detection" content="telephone=no" />
    <title>GIGGLE402 - BSC首个慈善概念的402协议代币 | Charity HTTP 402 Protocol Token</title>
    <meta
      name="description"
      content="GIGGLE402是BSC链上首个慈善概念的402协议代币，总量40,200,000枚，1 USDT = 402 GIGGLE402。50%公平Mint，30%流动性，20%捐赠慈善。每一次Mint都是链上微公益！"
    />
    <meta name="keywords" content="GIGGLE402,HTTP 402,BSC,慈善代币,公益,公平Mint,去中心化,加密货币,USDT Mint,链上慈善" />
    <meta property="og:title" content="GIGGLE402 - BSC首个慈善概念的402协议代币" />
    <meta property="og:description" content="BSC首个慈善概念的402协议代币，每一次Mint都是链上微公益！" />
    <meta property="og:type" content="website" />
    <link rel="preconnect" href="https://cdnjs.cloudflare.com" crossorigin />
    </style>
    <style>
      :root {
        --background: #080908;
        --foreground: #f1f5f9;
        --card: #1e293b;
        --card-foreground: #f1f5f9;
        --popover: #1e293b;
        --popover-foreground: #f1f5f9;
        --primary: #f59e0b;
        --primary-foreground: #080908;
        --secondary: #64748b;
        --secondary-foreground: #f1f5f9;
        --muted: #334155;
        --muted-foreground: #94a3b8;
        --accent: #f97316;
        --accent-foreground: #f1f5f9;
        --destructive: #ef4444;
        --destructive-foreground: #f1f5f9;
        --border: #334155;
        --input: #334155;
        --ring: #f59e0b;
        --radius: 0.75rem;
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      html {
        scroll-behavior: smooth;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
        text-rendering: optimizeLegibility;
        -webkit-tap-highlight-color: transparent;
      }

      body {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans SC', sans-serif;
        background: linear-gradient(135deg, var(--background) 0%, #060706 100%);
        background-attachment: fixed;
        color: var(--foreground);
        line-height: 1.6;
        font-size: 16px;
        overflow-x: hidden;
        position: relative;
      }

      body::before {
        content: '';
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: radial-gradient(circle at 20% 50%, rgba(245, 158, 11, 0.03) 0%, transparent 50%),
                    radial-gradient(circle at 80% 80%, rgba(249, 115, 22, 0.03) 0%, transparent 50%);
        pointer-events: none;
        z-index: 0;
      }

      body > div {
        position: relative;
        z-index: 1;
      }

      .container {
        width: 100%;
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 1rem;
      }

      @media (min-width: 640px) {
        .container {
          padding: 0 1.5rem;
        }
      }

      @media (min-width: 1024px) {
        .container {
          padding: 0 2rem;
        }
      }

      .min-h-screen {
        min-height: 100vh;
      }

      .bg-background {
        background-color: var(--background);
      }

      .text-foreground {
        color: var(--foreground);
      }

      .border-primary {
        border-color: var(--primary);
      }

      .border-b-4 {
        border-bottom-width: 4px;
      }

      .border-t-2 {
        border-top-width: 2px;
      }

      .border-2 {
        border-width: 2px;
      }

      .rounded-xl {
        border-radius: var(--radius);
      }

      .p-6 {
        padding: 1.75rem;
      }

      .p-4 {
        padding: 1.25rem;
      }

      .py-16 {
        padding-top: 5rem;
        padding-bottom: 5rem;
      }

      .px-4 {
        padding-left: 1rem;
        padding-right: 1rem;
      }

      .py-12 {
        padding-top: 3rem;
        padding-bottom: 3rem;
      }

      .py-8 {
        padding-top: 2rem;
        padding-bottom: 2rem;
      }

      .gap-responsive {
        gap: 1rem;
      }

      @media (min-width: 768px) {
        .gap-responsive {
          gap: 1.5rem;
        }
      }

      @media (max-width: 640px) {
        .gap-responsive {
          gap: 1.25rem;
        }
      }

      .gap-4 { gap: 1rem; }
      .gap-6 { gap: 1.5rem; }

      .flex {
        display: flex;
      }

      .grid {
        display: grid;
      }

      .flex-col {
        flex-direction: column;
      }

      .items-center {
        align-items: center;
      }

      .justify-center {
        justify-content: center;
      }

      .text-center {
        text-align: center;
      }

      .font-bold {
        font-weight: 700;
      }

      /* 响应式字体 */
      h1 {
        font-size: clamp(2rem, 5vw, 4rem);
        line-height: 1.2;
      }

      h2 {
        font-size: clamp(1.5rem, 4vw, 2rem);
        line-height: 1.3;
      }

      h3 {
        font-size: clamp(1.25rem, 3vw, 1.75rem);
        line-height: 1.4;
      }

      p {
        font-size: clamp(0.95rem, 2vw, 1.125rem);
        line-height: 1.6;
      }

      .text-sm {
        font-size: clamp(0.8rem, 1.5vw, 0.875rem);
      }

      .text-primary {
        color: var(--primary);
      }

      .text-accent {
        color: var(--accent);
      }

      .bg-card {
        background-color: var(--card);
      }

      .bg-gradient-primary {
        background: linear-gradient(135deg, var(--primary) 0%, #d97706 100%);
      }

      .bg-gradient-accent {
        background: linear-gradient(135deg, var(--accent) 0%, #ea580c 100%);
      }

      .shadow-lg {
        box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.25), 0 8px 10px -6px rgba(0, 0, 0, 0.2);
      }

      .transition-all {
        transition-property: all;
        transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
        transition-duration: 300ms;
      }

      .hover\:scale-105:hover {
        transform: scale(1.05);
      }

      .hover\:shadow-xl:hover {
        box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.3), 0 10px 10px -5px rgba(0, 0, 0, 0.25);
      }

      .grid-cols-1 {
        grid-template-columns: repeat(1, minmax(0, 1fr));
      }

      .md\:grid-cols-2 {
        grid-template-columns: repeat(2, minmax(0, 1fr));
      }

      .md\:grid-cols-3 {
        grid-template-columns: repeat(3, minmax(0, 1fr));
      }

      .md\:col-span-2 {
        grid-column: span 2 / span 2;
      }

      .md\:py-28 {
        padding-top: 7rem;
        padding-bottom: 7rem;
      }

      .mb-responsive {
        margin-bottom: 1.5rem;
      }

      @media (min-width: 768px) {
        .mb-responsive {
          margin-bottom: 2.5rem;
        }
      }

      .mb-4 { margin-bottom: 1rem; }
      .mb-6 { margin-bottom: 1.5rem; }
      .mt-4 { margin-top: 1rem; }

      .space-y-6 > :not([hidden]) ~ :not([hidden]) {
        --tw-space-y-reverse: 0;
        margin-top: calc(1.75rem * calc(1 - var(--tw-space-y-reverse)));
        margin-bottom: calc(1.75rem * var(--tw-space-y-reverse));
      }

      .space-y-4 > :not([hidden]) ~ :not([hidden]) {
        --tw-space-y-reverse: 0;
        margin-top: calc(1.25rem * calc(1 - var(--tw-space-y-reverse)));
        margin-bottom: calc(1.25rem * var(--tw-space-y-reverse));
      }

      .max-w-6xl {
        max-width: 72rem;
      }

      .max-w-4xl {
        max-width: 56rem;
      }

      .max-w-3xl {
        max-width: 48rem;
      }

      .max-w-2xl {
        max-width: 42rem;
      }

      .w-full {
        width: 100%;
      }

      .overflow-x-auto {
        overflow-x: auto;
      }

      .font-mono {
        font-family: 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, monospace;
      }

      .break-all {
        word-break: break-all;
      }

      .border-3 {
        border-width: 3px;
      }

      .border-muted {
        border-color: var(--muted);
      }

      .border-primary\/50 {
        border-color: rgba(245, 158, 11, 0.5);
      }

      .border-accent\/50 {
        border-color: rgba(249, 115, 22, 0.5);
      }

      .bg-card\/80 {
        background-color: rgba(30, 41, 59, 0.8);
      }

      .text-primary-foreground {
        color: var(--primary-foreground);
      }

      .text-accent-foreground {
        color: var(--accent-foreground);
      }

      .bg-primary {
        background-color: var(--primary);
      }

      .bg-accent {
        background-color: var(--accent);
      }

      .px-8 {
        padding-left: 2rem;
        padding-right: 2rem;
      }

      .py-4 {
        padding-top: 1rem;
        padding-bottom: 1rem;
      }

      .h-12 {
        height: 3rem;
      }

      .inline-flex {
        display: inline-flex;
      }

      .items-center {
        align-items: center;
      }

      .justify-center {
        justify-content: center;
      }

      .gap-3 {
        gap: 0.75rem;
      }

      .rounded-2xl {
        border-radius: 1rem;
      }

      .outline-none {
        outline: 2px solid transparent;
        outline-offset: 2px;
      }

      .transform {
        transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));
      }

      .hover\:translate-y-\[-2px\]:hover {
        transform: translateY(-2px);
      }

      .active\:scale-95:active {
        transform: scale(0.95);
      }

      .cursor-pointer {
        cursor: pointer;
      }

      .font-semibold {
        font-weight: 600;
      }

      .text-6xl {
        font-size: 4rem;
        line-height: 1;
      }

      .opacity-60 {
        opacity: 0.6;
      }

      .flex-wrap {
        flex-wrap: wrap;
      }

      .transition-colors {
        transition-property: color, background-color, border-color;
        transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
        transition-duration: 300ms;
      }

      .hover\:text-primary:hover {
        color: var(--primary);
      }

      .flex-col {
        flex-direction: column;
      }

      .items-center {
        align-items: center;
      }

      .justify-between {
        justify-content: space-between;
      }

      .card {
        background: linear-gradient(135deg, rgba(30, 41, 59, 0.95) 0%, rgba(30, 41, 59, 0.85) 100%);
        border-radius: var(--radius);
        border: 2px solid rgba(245, 158, 11, 0.3);
        padding: 1.25rem;
        transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        position: relative;
        overflow: hidden;
        backdrop-filter: blur(10px);
      }

      .card::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 2px;
        background: linear-gradient(90deg, transparent, var(--primary), transparent);
        opacity: 0;
        transition: opacity 0.3s;
      }

      .card:hover::before {
        opacity: 1;
      }

      .card:hover {
        border-color: rgba(245, 158, 11, 0.6);
        box-shadow: 
          0 20px 40px rgba(0, 0, 0, 0.3),
          0 0 20px rgba(245, 158, 11, 0.1);
        transform: translateY(-2px);
      }

      @media (min-width: 768px) {
        .card {
          padding: 1.75rem;
        }
      }

      /* 右上角钱包组件 - 优化版 */
      .wallet-widget {
        position: fixed;
        top: 1.25rem;
        right: 1.25rem;
        z-index: 1000;
        background: linear-gradient(135deg, rgba(30, 41, 59, 0.98) 0%, rgba(15, 23, 42, 0.98) 100%);
        backdrop-filter: blur(20px);
        border: 2px solid rgba(245, 158, 11, 0.6);
        border-radius: 1rem;
        padding: 0.875rem 1.125rem;
        box-shadow: 
          0 20px 40px rgba(0, 0, 0, 0.4),
          0 0 20px rgba(245, 158, 11, 0.15),
          inset 0 1px 0 rgba(255, 255, 255, 0.1);
        min-width: 220px;
        transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      }

      .wallet-widget:hover {
        transform: translateY(-2px);
        box-shadow: 
          0 25px 50px rgba(0, 0, 0, 0.5),
          0 0 30px rgba(245, 158, 11, 0.25),
          inset 0 1px 0 rgba(255, 255, 255, 0.15);
        border-color: rgba(245, 158, 11, 0.8);
      }

      @media (min-width: 768px) {
        .wallet-widget {
          min-width: 300px;
          padding: 1.125rem 1.5rem;
        }
      }

      @media (max-width: 640px) {
        .wallet-widget {
          top: 0.75rem;
          right: 0.75rem;
          min-width: 180px;
          padding: 0.75rem 0.875rem;
        }
      }

      .wallet-widget-btn {
        width: 100%;
        padding: 0.75rem 1.25rem;
        border: none;
        border-radius: 0.625rem;
        font-size: 0.925rem;
        font-weight: 700;
        letter-spacing: 0.3px;
        cursor: pointer;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        background: linear-gradient(135deg, var(--primary) 0%, #ea8906 50%, #d97706 100%);
        background-size: 200% 100%;
        background-position: 0% 0%;
        color: var(--primary-foreground);
        box-shadow: 
          0 4px 12px rgba(245, 158, 11, 0.4),
          inset 0 1px 0 rgba(255, 255, 255, 0.2);
        position: relative;
        overflow: hidden;
      }

      .wallet-widget-btn::before {
        content: '';
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
        transition: left 0.6s;
      }

      .wallet-widget-btn:hover {
        transform: translateY(-2px) scale(1.02);
        box-shadow: 
          0 8px 20px rgba(245, 158, 11, 0.5),
          inset 0 1px 0 rgba(255, 255, 255, 0.3);
        background-position: 100% 0%;
      }

      .wallet-widget-btn:hover::before {
        left: 100%;
      }

      .wallet-widget-btn:active {
        transform: translateY(0) scale(0.98);
      }

      @media (max-width: 640px) {
        .wallet-widget-btn {
          padding: 0.625rem 1rem;
          font-size: 0.85rem;
        }
      }

      .wallet-widget-info {
        font-size: 0.75rem;
        color: var(--muted-foreground);
        margin-bottom: 0.5rem;
        text-transform: uppercase;
        letter-spacing: 0.5px;
      }

      .wallet-widget-address {
        font-size: 0.85rem;
        color: var(--foreground);
        word-break: break-all;
        font-family: 'SFMono-Regular', Consolas, monospace;
        background: rgba(0, 0, 0, 0.2);
        padding: 0.5rem;
        border-radius: 0.375rem;
        border: 1px solid rgba(245, 158, 11, 0.2);
      }

      .wallet-widget-address.connected {
        color: #10b981;
        border-color: rgba(16, 185, 129, 0.3);
        background: rgba(16, 185, 129, 0.1);
      }

      .wallet-status {
        background: rgba(30, 41, 59, 0.7);
        border: 1px solid rgba(245, 158, 11, 0.3);
        border-radius: var(--radius);
        padding: 1.25rem;
        margin-bottom: 1.25rem;
      }

      .status-label {
        font-size: 0.875rem;
        color: #f59e0b;
        text-transform: uppercase;
        letter-spacing: 1px;
        margin-bottom: 0.5rem;
        font-weight: 600;
      }

      .status-value {
        font-size: 1rem;
        color: var(--foreground);
        word-break: break-all;
      }

      .status-value.connected {
        color: #10b981;
      }

      .btn {
        width: 100%;
        padding: 0.875rem 1.5rem;
        border: none;
        border-radius: var(--radius);
        font-family: inherit;
        font-size: 0.95rem;
        font-weight: 700;
        letter-spacing: 0.3px;
        cursor: pointer;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        margin-bottom: 1rem;
        text-align: center;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        position: relative;
        overflow: hidden;
      }

      .btn::before {
        content: '';
        position: absolute;
        top: 50%;
        left: 50%;
        width: 0;
        height: 0;
        border-radius: 50%;
        background: rgba(255, 255, 255, 0.15);
        transform: translate(-50%, -50%);
        transition: width 0.6s, height 0.6s;
      }

      .btn:hover::before {
        width: 300px;
        height: 300px;
      }

      @media (min-width: 768px) {
        .btn {
          padding: 1rem 2rem;
          font-size: 1rem;
        }
      }

      .btn-primary {
        background: linear-gradient(135deg, var(--primary) 0%, #ea8906 50%, #d97706 100%);
        background-size: 200% 100%;
        background-position: 0% 0%;
        color: var(--primary-foreground);
      }

      .btn-primary:hover {
        background-position: 100% 0%;
        box-shadow: 
          0 8px 20px rgba(245, 158, 11, 0.4),
          0 0 20px rgba(245, 158, 11, 0.2);
        transform: translateY(-2px);
      }

      .btn-accent {
        background: linear-gradient(135deg, var(--accent) 0%, #ea580c 50%, #c2410c 100%);
        background-size: 200% 100%;
        background-position: 0% 0%;
        color: var(--accent-foreground);
      }

      .btn-accent:hover {
        background-position: 100% 0%;
        box-shadow: 
          0 8px 20px rgba(249, 115, 22, 0.4),
          0 0 20px rgba(249, 115, 22, 0.2);
        transform: translateY(-2px);
      }

      .btn:active {
        transform: scale(0.98);
      }

      .btn:disabled {
        opacity: 0.5;
        cursor: not-allowed;
        transform: none !important;
      }

      .btn:disabled:hover {
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
      }

      .info-section {
        background: rgba(16, 185, 129, 0.1);
        border: 1px solid rgba(16, 185, 129, 0.2);
        border-radius: var(--radius);
        padding: 1.25rem;
        margin: 1rem 0;
      }

      @media (min-width: 768px) {
        .info-section {
          padding: 1.75rem;
        }
      }

      .info-section h3 {
        color: #10b981;
        margin-bottom: 1.25rem;
        font-size: 1.25rem;
        font-weight: 600;
      }

      .info-section p {
        margin-bottom: 0.75rem;
      }

      .highlight {
        color: var(--accent);
        font-weight: 600;
      }

      .contract-info {
        background: linear-gradient(135deg, rgba(99, 102, 241, 0.15) 0%, rgba(99, 102, 241, 0.05) 100%);
        border: 2px solid rgba(99, 102, 241, 0.3);
        border-radius: var(--radius);
        padding: 1.25rem;
        margin-top: 1.75rem;
        font-size: 0.875rem;
        position: relative;
        overflow: hidden;
      }

      .contract-info::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 3px;
        background: linear-gradient(90deg, transparent, #6366f1, transparent);
      }

      .contract-address {
        word-break: break-all;
        font-family: 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, monospace;
        color: var(--muted-foreground);
        margin: 0.75rem 0;
        padding: 0.75rem;
        background: rgba(30, 41, 59, 0.6);
        border-radius: 0.375rem;
        border: 1px solid rgba(99, 102, 241, 0.2);
        transition: all 0.3s;
        cursor: pointer;
      }

      .contract-address:hover {
        background: rgba(30, 41, 59, 0.8);
        border-color: rgba(99, 102, 241, 0.4);
        color: var(--foreground);
      }

      .alert {
        padding: 1.25rem;
        border-radius: var(--radius);
        margin-bottom: 1.25rem;
        display: none;
        animation: slideDown 0.4s ease-out;
        border: 2px solid transparent;
      }

      @keyframes slideDown {
        from {
          opacity: 0;
          transform: translateY(-10px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .alert-success {
        background: linear-gradient(135deg, rgba(16, 185, 129, 0.25) 0%, rgba(16, 185, 129, 0.15) 100%);
        border-color: rgba(16, 185, 129, 0.4);
        color: #10b981;
        box-shadow: 0 4px 12px rgba(16, 185, 129, 0.2);
      }

      .alert-error {
        background: linear-gradient(135deg, rgba(239, 68, 68, 0.25) 0%, rgba(239, 68, 68, 0.15) 100%);
        border-color: rgba(239, 68, 68, 0.4);
        color: #ef4444;
        box-shadow: 0 4px 12px rgba(239, 68, 68, 0.2);
      }

      .loading-spinner {
        display: inline-block;
        width: 1.25rem;
        height: 1.25rem;
        border: 3px solid rgba(255, 255, 255, 0.2);
        border-top: 3px solid currentColor;
        border-radius: 50%;
        animation: spin 0.8s linear infinite;
        margin-right: 0.75rem;
      }

      @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
      }

      /* 页面加载动画优化 */
      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(20px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .section {
        animation: fadeIn 0.6s ease-out;
      }

      .separator {
        height: 2px;
        width: 100%;
        background: linear-gradient(90deg, transparent, var(--primary), var(--accent), var(--primary), transparent);
        margin: 3.5rem 0;
        position: relative;
        overflow: hidden;
      }

      .separator::before {
        content: '';
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
        animation: shimmer 3s infinite;
      }

      @keyframes shimmer {
        0% { left: -100%; }
        100% { left: 200%; }
      }

      .feature-card {
        transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        border: 2px solid rgba(245, 158, 11, 0.2);
        background: linear-gradient(135deg, rgba(30, 41, 59, 0.7) 0%, rgba(30, 41, 59, 0.5) 100%);
        backdrop-filter: blur(15px);
        position: relative;
        overflow: hidden;
      }

      .feature-card::after {
        content: '';
        position: absolute;
        top: -50%;
        right: -50%;
        width: 200%;
        height: 200%;
        background: radial-gradient(circle, rgba(245, 158, 11, 0.1) 0%, transparent 70%);
        opacity: 0;
        transition: opacity 0.4s;
      }

      .feature-card:hover::after {
        opacity: 1;
      }

      .feature-card:hover {
        transform: translateY(-8px) scale(1.02);
        box-shadow: 
          0 25px 40px rgba(0, 0, 0, 0.35),
          0 0 30px rgba(245, 158, 11, 0.15);
        border-color: rgba(245, 158, 11, 0.6);
      }

      .token-icon {
        font-size: 2rem;
        margin-bottom: 1rem;
      }

      .stats-card {
        text-align: center;
        padding: 1.5rem;
        border-radius: var(--radius);
        background: rgba(30, 41, 59, 0.8);
        border: 1px solid rgba(245, 158, 11, 0.3);
      }

      .stats-value {
        font-size: 1.5rem;
        font-weight: 700;
        color: var(--primary);
        margin: 0.5rem 0;
      }

      .stats-label {
        font-size: 0.875rem;
        color: var(--muted-foreground);
      }

      footer {
        background: linear-gradient(135deg, rgba(15, 23, 42, 0.95) 0%, rgba(8, 9, 8, 0.95) 100%);
        backdrop-filter: blur(15px);
        border-top: 2px solid rgba(245, 158, 11, 0.4);
        position: relative;
      }

      footer::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 2px;
        background: linear-gradient(90deg, transparent, var(--primary), var(--accent), var(--primary), transparent);
      }

      .social-link {
        display: inline-flex;
        align-items: center;
        padding: 0.625rem 1.25rem;
        border-radius: 9999px;
        background: linear-gradient(135deg, rgba(30, 41, 59, 0.9) 0%, rgba(30, 41, 59, 0.7) 100%);
        border: 2px solid rgba(245, 158, 11, 0.3);
        transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        margin: 0.25rem;
        position: relative;
        overflow: hidden;
      }

      .social-link::before {
        content: '';
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(90deg, transparent, rgba(245, 158, 11, 0.2), transparent);
        transition: left 0.6s;
      }

      .social-link:hover::before {
        left: 100%;
      }

      .social-link:hover {
        background: linear-gradient(135deg, var(--primary) 0%, #d97706 100%);
        border-color: var(--primary);
        transform: translateY(-3px) scale(1.05);
        box-shadow: 
          0 10px 20px rgba(245, 158, 11, 0.3),
          0 0 15px rgba(245, 158, 11, 0.2);
      }

      /* 性能优化 */
      @media (prefers-reduced-motion: reduce) {
        *,
        *::before,
        *::after {
          animation-duration: 0.01ms !important;
          animation-iteration-count: 1 !important;
          transition-duration: 0.01ms !important;
        }
      }

      /* 高分辨率优化 */
      @media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
        body {
          -webkit-font-smoothing: subpixel-antialiased;
        }
      }

      /* 滚动条美化 */
      ::-webkit-scrollbar {
        width: 10px;
        height: 10px;
      }

      ::-webkit-scrollbar-track {
        background: rgba(30, 41, 59, 0.5);
        border-radius: 5px;
      }

      ::-webkit-scrollbar-thumb {
        background: linear-gradient(135deg, var(--primary) 0%, var(--accent) 100%);
        border-radius: 5px;
        border: 2px solid rgba(30, 41, 59, 0.5);
      }

      ::-webkit-scrollbar-thumb:hover {
        background: linear-gradient(135deg, #ea8906 0%, #ea580c 100%);
      }

      /* 选中文本样式 */
      ::selection {
        background: rgba(245, 158, 11, 0.3);
        color: var(--foreground);
      }

      ::-moz-selection {
        background: rgba(245, 158, 11, 0.3);
        color: var(--foreground);
      }

      @keyframes pulse {
        0%, 100% {
          opacity: 0.6;
          transform: translate(-50%, -50%) scale(1);
        }
        50% {
          opacity: 1;
          transform: translate(-50%, -50%) scale(1.05);
        }
      }

      /* 移动端专用优化 */
      @media (max-width: 640px) {
        body {
          font-size: 15px;
        }

        main.container {
          padding-left: 0.75rem;
          padding-right: 0.75rem;
        }

        .section {
          margin-bottom: 1.5rem;
        }

        .card {
          margin-bottom: 1rem;
          padding: 1rem !important;
        }

        /* 确保数字在小屏幕上不换行 */
        .font-bold {
          white-space: nowrap;
        }

        /* 代币经济板块移动端优化 */
        .grid.grid-cols-1.md\:grid-cols-3 > div {
          padding: 0.75rem 0.25rem !important;
        }

        /* 项目介绍卡片移动端优化 */
        .section .card[style*="padding: 2.5rem"] {
          padding: 1.5rem 1rem !important;
        }

        /* 项目介绍特性卡片 */
        .flex.items-center.gap-4 {
          padding: 0.875rem !important;
          gap: 0.75rem !important;
        }

        /* 合约地址字体 */
        .contract-address {
          font-size: 0.75rem !important;
          padding: 0.625rem !important;
        }

        /* 合约信息板块 */
        .contract-info {
          padding: 1rem !important;
          margin-top: 1.25rem !important;
        }

        /* 按钮移动端优化 */
        .btn {
          padding: 0.875rem 1.25rem !important;
          font-size: 0.9rem !important;
          min-height: 44px;
        }

        /* header移动端优化 */
        header .container {
          padding-top: 2rem !important;
          padding-bottom: 2rem !important;
        }

        header .flex.flex-col {
          gap: 1.5rem !important;
        }

        /* 分隔线移动端间距 */
        .separator {
          margin: 2rem 0 !important;
        }
      }

      /* 超小屏幕优化（<375px） */
      @media (max-width: 374px) {
        body {
          font-size: 14px;
        }

        .container {
          padding: 0 0.5rem;
        }

        main.container {
          padding-left: 0.5rem;
          padding-right: 0.5rem;
        }

        h2 {
          letter-spacing: 0.3px;
        }

        /* 项目介绍卡片超小屏幕 */
        .section .card[style*="padding: 2.5rem"] {
          padding: 1.25rem 0.75rem !important;
        }

        /* 按钮超小屏幕 */
        .btn {
          padding: 0.75rem 1rem !important;
          font-size: 0.85rem !important;
        }

        /* 合约信息超小屏幕 */
        .contract-info h4 {
          font-size: 0.95rem !important;
        }

        .contract-address {
          font-size: 0.7rem !important;
        }
      }

      .py-responsive {
        padding-top: clamp(1.75rem, 5vw, 3.5rem);
        padding-bottom: clamp(1.75rem, 5vw, 3.5rem);
      }

      /* 移动端触摸优化 */
      @media (max-width: 768px) {
        /* 确保所有可点击元素至少44px高 */
        button, 
        a.social-link {
          min-height: 44px;
          min-width: 44px;
        }

        /* 增强按钮触摸反馈 */
        .btn:active {
          transform: scale(0.96);
          opacity: 0.9;
        }

        /* 钱包组件移动端优化 */
        .wallet-widget {
          top: 0.625rem;
          right: 0.625rem;
          min-width: 160px !important;
          padding: 0.625rem 0.875rem !important;
        }

        .wallet-widget-btn {
          padding: 0.625rem 1rem !important;
          font-size: 0.85rem !important;
        }

        /* 合约地址点击复制反馈 */
        .contract-address:active {
          transform: scale(0.98);
          background: rgba(99, 102, 241, 0.3) !important;
        }

        /* 社交链接移动端 */
        .social-link {
          padding: 0.625rem 1rem !important;
          font-size: 0.8rem !important;
        }

        /* 项目介绍特性卡片移动端 */
        .flex.items-center.gap-4 > div {
          font-size: clamp(0.85rem, 2.2vw, 0.95rem);
        }

        /* footer移动端间距 */
        footer .container {
          padding-top: 1.5rem;
          padding-bottom: 1.5rem;
        }

        /* 移动端滚动优化 */
        html {
          -webkit-overflow-scrolling: touch;
        }

        /* 移动端图片优化 */
        img {
          -webkit-user-select: none;
          user-select: none;
          -webkit-touch-callout: none;
        }

        /* 移动端输入框优化 */
        input, textarea {
          font-size: 16px !important;
        }
      }
    </style>
    <script src="https://cdn.jsdelivr.net/npm/ethers@5.7.2/dist/ethers.umd.min.js" crossorigin="anonymous"></script>
  <body class="font-sans min-h-screen bg-background">
    <!-- 右上角钱包组件 -->
    <div class="wallet-widget">
      <div id="walletWidgetContent">
        <button id="connectWalletWidget" class="wallet-widget-btn" onclick="connectWallet()">
          <span class="loading-spinner" id="connectLoadingWidget" style="display: none;"></span>
          <span id="connectTextWidget">连接钱包</span>
        </button>
      </div>
    </div>
    
    <div class="min-h-screen bg-background">
      <header class="relative overflow-hidden border-primary border-b-4" style="background: linear-gradient(135deg, rgba(8, 9, 8, 0.95) 0%, rgba(6, 7, 6, 0.95) 100%);">
        <div class="container mx-auto max-w-6xl" style="padding: clamp(1.5rem, 4vw, 7rem) 1rem;">
          <div class="flex flex-col items-center text-center" style="gap: clamp(1rem, 3vw, 3rem);">
            <div class="w-full" style="max-width: min(600px, 90vw); position: relative;">
              <div style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 120%; height: 120%; background: radial-gradient(circle, rgba(245, 158, 11, 0.08) 0%, transparent 70%); z-index: 0; animation: pulse 3s ease-in-out infinite;"></div>
              <img
                alt="GIGGLE402 - BSC首个慈善概念的402协议代币"
                width="1200"
                height="900"
                decoding="async"
                loading="eager"
                style="color: transparent; width: 100%; height: auto; border-radius: clamp(0.5rem, 2vw, 1rem); box-shadow: 0 20px 50px rgba(0, 0, 0, 0.5), 0 0 30px rgba(245, 158, 11, 0.15); position: relative; z-index: 1;"
                src="b4b2b36ef83c15d6498da133662bce77.png"
              />
            </div>
          </div>
        </div>
      </header>
      <main class="container" style="padding-top: clamp(2.5rem, 6vw, 4rem); padding-bottom: clamp(2.5rem, 6vw, 4rem);">
        <!-- 参与mint -->
        <section class="section" style="margin-bottom: clamp(3rem, 7vw, 5rem);">
          <div style="text-align: center; margin-bottom: clamp(2rem, 5vw, 3rem);">
            <h2 style="font-size: clamp(1.75rem, 5vw, 2.5rem); font-weight: 700; color: var(--primary); margin-bottom: 1rem; letter-spacing: -0.5px;">立即参与 Mint</h2>
            <p style="color: var(--muted-foreground); max-width: min(650px, 95%); margin: 0 auto; font-size: clamp(1rem, 2.5vw, 1.15rem); line-height: 1.7;">
              连接钱包，使用 USDT 参与 GIGGLE402 公平mint
            </p>
            <p style="font-size: clamp(0.85rem, 2vw, 0.95rem); color: rgba(245, 158, 11, 0.8); margin-top: 0.5rem; font-weight: 500;">全链上自动执行，绝对公平透明</p>
          </div>
          
          <div id="message" class="alert" style="display: none; margin-bottom: 1.5rem;"></div>
          
          <div class="card" style="max-width: 800px; margin: 0 auto; padding: clamp(2rem, 5vw, 3rem) clamp(1.5rem, 4vw, 2.5rem);">
            <h3 class="text-primary" style="font-size: clamp(1.25rem, 3vw, 1.6rem); font-weight: 600; text-align: center; margin-bottom: clamp(1.5rem, 4vw, 2rem); position: relative; padding-bottom: 1rem;">
              <span style="position: relative; z-index: 1;">Mint 步骤</span>
              <span style="position: absolute; bottom: 0; left: 50%; transform: translateX(-50%); width: 60px; height: 3px; background: linear-gradient(90deg, var(--primary), var(--accent)); border-radius: 2px;"></span>
            </h3>
            <div class="grid grid-cols-1 md:grid-cols-2" style="gap: clamp(1rem, 3vw, 1.5rem); margin-bottom: clamp(2rem, 5vw, 3rem);">
              <div style="background: linear-gradient(135deg, rgba(245, 158, 11, 0.05) 0%, rgba(245, 158, 11, 0.02) 100%); border: 2px solid rgba(245, 158, 11, 0.2); border-radius: 12px; padding: clamp(1.25rem, 3vw, 1.75rem); transition: all 0.3s ease;">
                <div style="display: flex; align-items: center; gap: 0.75rem; margin-bottom: 1rem;">
                  <div style="width: 32px; height: 32px; background: var(--primary); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: 700; color: var(--background); font-size: 1rem;">1</div>
                  <h4 style="font-size: clamp(1rem, 2.5vw, 1.15rem); font-weight: 600; color: var(--foreground);">授权 USDT</h4>
                </div>
                <p style="font-size: clamp(0.85rem, 2vw, 0.95rem); color: var(--muted-foreground); margin-bottom: 1.25rem; line-height: 1.6;">授权合约使用您的 USDT，只需授权一次</p>
                <button id="approveBtn" class="btn btn-primary" onclick="approveUSDT()" disabled style="width: 100%;">
                  <span class="loading-spinner" id="approveLoading" style="display: none;"></span>
                  <span id="approveText">授权 USDT</span>
                </button>
              </div>
              
              <div style="background: linear-gradient(135deg, rgba(249, 115, 22, 0.05) 0%, rgba(249, 115, 22, 0.02) 100%); border: 2px solid rgba(249, 115, 22, 0.2); border-radius: 12px; padding: clamp(1.25rem, 3vw, 1.75rem); transition: all 0.3s ease;">
                <div style="display: flex; align-items: center; gap: 0.75rem; margin-bottom: 1rem;">
                  <div style="width: 32px; height: 32px; background: var(--accent); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: 700; color: var(--background); font-size: 1rem;">2</div>
                  <h4 style="font-size: clamp(1rem, 2.5vw, 1.15rem); font-weight: 600; color: var(--foreground);">开始 Mint</h4>
                </div>
                <p style="font-size: clamp(0.85rem, 2vw, 0.95rem); color: var(--muted-foreground); margin-bottom: 1.25rem; line-height: 1.6;">1 USDT = 402 GIGGLE402，立即获得代币</p>
                <button id="mintBtn" class="btn btn-accent" onclick="mintGIGGLE402()" disabled style="width: 100%;">
                  <span class="loading-spinner" id="mintLoading" style="display: none;"></span>
                  <span id="mintText">免费 Mint</span>
                </button>
              </div>
            </div>
            
            <div style="background: rgba(30, 41, 59, 0.3); border-radius: 12px; padding: clamp(1.5rem, 4vw, 2rem); border: 1px solid rgba(100, 116, 139, 0.3);">
              <h4 class="font-bold" style="font-size: clamp(1.05rem, 2.5vw, 1.2rem); margin-bottom: 1.25rem; color: var(--foreground); text-align: center;">合约信息</h4>
              <div class="grid grid-cols-1" style="gap: 1rem;">
                <div class="contract-address" style="background: rgba(99, 102, 241, 0.15); border: 1.5px solid rgba(99, 102, 241, 0.35); padding: clamp(0.875rem, 2vw, 1rem); border-radius: 8px; transition: all 0.3s ease;">
                  <div style="font-size: clamp(0.7rem, 1.6vw, 0.8rem); color: var(--muted-foreground); margin-bottom: 0.5rem; font-weight: 600; text-transform: uppercase; letter-spacing: 0.5px;">GIGGLE402 合约</div>
                  <div style="font-family: monospace; font-size: clamp(0.8rem, 2vw, 0.9rem); word-break: break-all; color: rgba(241, 245, 249, 0.95); line-height: 1.5;">0x42873167FF687a76c3f811fc574db5236563576A</div>
                </div>
                <div class="contract-address" style="background: rgba(16, 185, 129, 0.15); border: 1.5px solid rgba(16, 185, 129, 0.35); padding: clamp(0.875rem, 2vw, 1rem); border-radius: 8px; transition: all 0.3s ease;">
                  <div style="font-size: clamp(0.7rem, 1.6vw, 0.8rem); color: var(--muted-foreground); margin-bottom: 0.5rem; font-weight: 600; text-transform: uppercase; letter-spacing: 0.5px;">USDT 合约</div>
                  <div style="font-family: monospace; font-size: clamp(0.8rem, 2vw, 0.9rem); word-break: break-all; color: rgba(241, 245, 249, 0.95); line-height: 1.5;">0x55d398326f99059fF775485246999027B3197955</div>
                </div>
              </div>
              <div style="margin-top: 1.5rem; padding-top: 1.25rem; border-top: 1px solid rgba(100, 116, 139, 0.2);">
                <p class="text-center" style="font-size: clamp(0.85rem, 2vw, 0.95rem); color: var(--muted-foreground);">
                  请确保在 <span class="font-bold" style="color: var(--primary);">Binance Smart Chain</span> 网络上操作
                </p>
              </div>
            </div>
          </div>
        </section>
        
        <div class="separator" style="margin: clamp(3.5rem, 8vw, 6rem) auto; max-width: 200px; height: 2px; background: linear-gradient(90deg, transparent, rgba(245, 158, 11, 0.5), transparent);"></div>
        
        <!-- 项目介绍 -->
        <section class="section" style="margin-bottom: clamp(3rem, 7vw, 5rem);">
          <div style="text-align: center; margin-bottom: clamp(2rem, 5vw, 3rem);">
            <h2 style="font-size: clamp(1.75rem, 5vw, 2.5rem); font-weight: 700; color: var(--primary); margin-bottom: 1rem; letter-spacing: -0.5px;">关于 GIGGLE402</h2>
            <p style="font-size: clamp(1.05rem, 2.8vw, 1.35rem); line-height: 1.6; color: rgba(241, 245, 249, 0.9); max-width: 750px; margin: 0 auto;">
              BSC链上首个 <span style="color: var(--primary); font-weight: 600;">慈善概念</span> 的402协议代币
            </p>
            <p style="font-size: clamp(0.9rem, 2.2vw, 1rem); color: var(--muted-foreground); margin-top: 0.75rem;">每一次 Mint，都是一次链上微公益</p>
          </div>
          
          <div class="card" style="background: linear-gradient(135deg, rgba(249, 115, 22, 0.08) 0%, rgba(30, 41, 59, 0.5) 100%); padding: clamp(2rem, 5vw, 3rem) clamp(1.5rem, 4vw, 2.5rem); border: 2px solid rgba(245, 158, 11, 0.3); max-width: 1000px; margin: 0 auto;">
            <div class="grid grid-cols-1 md:grid-cols-2" style="gap: clamp(1.25rem, 3vw, 1.75rem);">
              <div style="background: rgba(30, 41, 59, 0.6); border-radius: 12px; padding: clamp(1.25rem, 3vw, 1.75rem); border-left: 4px solid var(--primary); transition: all 0.3s ease; backdrop-filter: blur(10px);">
                <div style="display: flex; align-items: center; gap: 0.875rem; margin-bottom: 1rem;">
                  <div style="width: 10px; height: 10px; background: var(--primary); border-radius: 50%; box-shadow: 0 0 12px rgba(245, 158, 11, 0.6);"></div>
                  <h3 style="font-weight: 600; font-size: clamp(1.05rem, 2.5vw, 1.2rem); color: var(--foreground);">慈善概念</h3>
                </div>
                <p style="font-size: clamp(0.9rem, 2.2vw, 1rem); color: var(--muted-foreground); line-height: 1.7;">20%代币捐赠GIGGLE慈善钱包，支持教育及公益事业</p>
              </div>
              
              <div style="background: rgba(30, 41, 59, 0.6); border-radius: 12px; padding: clamp(1.25rem, 3vw, 1.75rem); border-left: 4px solid var(--accent); transition: all 0.3s ease; backdrop-filter: blur(10px);">
                <div style="display: flex; align-items: center; gap: 0.875rem; margin-bottom: 1rem;">
                  <div style="width: 10px; height: 10px; background: var(--accent); border-radius: 50%; box-shadow: 0 0 12px rgba(249, 115, 22, 0.6);"></div>
                  <h3 style="font-weight: 600; font-size: clamp(1.05rem, 2.5vw, 1.2rem); color: var(--foreground);">公平 Mint</h3>
                </div>
                <p style="font-size: clamp(0.9rem, 2.2vw, 1rem); color: var(--muted-foreground); line-height: 1.7;">1 USDT = 402 GIGGLE402，绝对公平，人人可参与</p>
              </div>
              
              <div style="background: rgba(30, 41, 59, 0.6); border-radius: 12px; padding: clamp(1.25rem, 3vw, 1.75rem); border-left: 4px solid #10b981; transition: all 0.3s ease; backdrop-filter: blur(10px);">
                <div style="display: flex; align-items: center; gap: 0.875rem; margin-bottom: 1rem;">
                  <div style="width: 10px; height: 10px; background: #10b981; border-radius: 50%; box-shadow: 0 0 12px rgba(16, 185, 129, 0.6);"></div>
                  <h3 style="font-weight: 600; font-size: clamp(1.05rem, 2.5vw, 1.2rem); color: var(--foreground);">链上公益</h3>
                </div>
                <p style="font-size: clamp(0.9rem, 2.2vw, 1rem); color: var(--muted-foreground); line-height: 1.7;">每次Mint都是微公益，共同构建链上慈善生态</p>
              </div>
              
              <div style="background: rgba(30, 41, 59, 0.6); border-radius: 12px; padding: clamp(1.25rem, 3vw, 1.75rem); border-left: 4px solid #8b5cf6; transition: all 0.3s ease; backdrop-filter: blur(10px);">
                <div style="display: flex; align-items: center; gap: 0.875rem; margin-bottom: 1rem;">
                  <div style="width: 10px; height: 10px; background: #8b5cf6; border-radius: 50%; box-shadow: 0 0 12px rgba(139, 92, 246, 0.6);"></div>
                  <h3 style="font-weight: 600; font-size: clamp(1.05rem, 2.5vw, 1.2rem); color: var(--foreground);">情绪治愈</h3>
                </div>
                <p style="font-size: clamp(0.9rem, 2.2vw, 1rem); color: var(--muted-foreground); line-height: 1.7;">公平·公链·慈善共建，是GIGGLE402的核心精神</p>
              </div>
            </div>
          </div>
        </section>
        
        
        <div class="separator" style="margin: clamp(3.5rem, 8vw, 6rem) auto; max-width: 200px; height: 2px; background: linear-gradient(90deg, transparent, rgba(245, 158, 11, 0.5), transparent);"></div>
        
        <!-- 代币经济 -->
        <section class="section" style="margin-bottom: clamp(3rem, 7vw, 5rem);">
          <div style="text-align: center; margin-bottom: clamp(2.5rem, 6vw, 3.5rem);">
            <h2 style="font-size: clamp(1.75rem, 5vw, 2.5rem); font-weight: 700; color: var(--primary); margin-bottom: 1rem; letter-spacing: -0.5px;">代币经济</h2>
            <p style="font-size: clamp(0.95rem, 2.5vw, 1.05rem); color: var(--muted-foreground); max-width: 600px; margin: 0 auto;">透明的代币分配与经济模型</p>
          </div>
          
          <!-- 核心数据概览 -->
          <div class="card" style="background: linear-gradient(135deg, rgba(30, 41, 59, 0.95) 0%, rgba(30, 41, 59, 0.75) 100%); border: 2px solid rgba(245, 158, 11, 0.4); margin-bottom: clamp(2rem, 5vw, 3rem); padding: 0; max-width: 1100px; margin-left: auto; margin-right: auto;">
            <div style="background: linear-gradient(135deg, rgba(245, 158, 11, 0.12) 0%, rgba(249, 115, 22, 0.08) 100%); padding: clamp(1.25rem, 3vw, 1.75rem); border-bottom: 1px solid rgba(245, 158, 11, 0.25);">
              <h3 style="font-size: clamp(1.2rem, 3vw, 1.5rem); font-weight: 600; color: var(--primary); text-align: center; letter-spacing: 0.3px;">核心数据</h3>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-3" style="padding: clamp(2rem, 5vw, 3rem) clamp(1.25rem, 3vw, 2rem); gap: clamp(2rem, 5vw, 3rem);">
              <div class="text-center" style="padding: clamp(1rem, 2.5vw, 1.5rem) clamp(0.75rem, 2vw, 1rem);">
                <div style="display: inline-flex; align-items: center; justify-content: center; width: clamp(56px, 14vw, 70px); height: clamp(56px, 14vw, 70px); background: linear-gradient(135deg, rgba(245, 158, 11, 0.15) 0%, rgba(245, 158, 11, 0.05) 100%); border: 2.5px solid rgba(245, 158, 11, 0.35); border-radius: 50%; margin-bottom: 1.125rem; box-shadow: 0 4px 12px rgba(245, 158, 11, 0.15);">
                  <div style="width: clamp(18px, 4.5vw, 24px); height: clamp(18px, 4.5vw, 24px); background: var(--primary); border-radius: 50%; box-shadow: 0 0 15px rgba(245, 158, 11, 0.5);"></div>
                </div>
                <div style="font-size: clamp(0.7rem, 2vw, 0.8rem); text-transform: uppercase; letter-spacing: 1px; color: var(--muted-foreground); margin-bottom: 0.75rem; font-weight: 600;">代币总量</div>
                <div class="font-bold" style="font-size: clamp(1.75rem, 5vw, 2.25rem); color: var(--primary); margin-bottom: 0.5rem; line-height: 1.1;">40,200,000</div>
                <div style="font-size: clamp(0.8rem, 2.2vw, 0.9rem); color: rgba(241, 245, 249, 0.7);">GIGGLE402 TOKEN</div>
              </div>
              <div class="text-center" style="padding: clamp(1rem, 2.5vw, 1.5rem) clamp(0.75rem, 2vw, 1rem);">
                <div style="display: inline-flex; align-items: center; justify-content: center; width: clamp(56px, 14vw, 70px); height: clamp(56px, 14vw, 70px); background: linear-gradient(135deg, rgba(249, 115, 22, 0.15) 0%, rgba(249, 115, 22, 0.05) 100%); border: 2.5px solid rgba(249, 115, 22, 0.35); border-radius: 50%; margin-bottom: 1.125rem; box-shadow: 0 4px 12px rgba(249, 115, 22, 0.15);">
                  <div style="width: clamp(18px, 4.5vw, 24px); height: clamp(18px, 4.5vw, 24px); background: var(--accent); border-radius: 50%; box-shadow: 0 0 15px rgba(249, 115, 22, 0.5);"></div>
                </div>
                <div style="font-size: clamp(0.7rem, 2vw, 0.8rem); text-transform: uppercase; letter-spacing: 1px; color: var(--muted-foreground); margin-bottom: 0.75rem; font-weight: 600;">Mint比例</div>
                <div class="font-bold" style="font-size: clamp(1.75rem, 5vw, 2.25rem); color: var(--accent); margin-bottom: 0.5rem; line-height: 1.1;">1 : 402</div>
                <div style="font-size: clamp(0.8rem, 2.2vw, 0.9rem); color: rgba(241, 245, 249, 0.7);">USDT / GIGGLE402</div>
              </div>
              <div class="text-center" style="padding: clamp(1rem, 2.5vw, 1.5rem) clamp(0.75rem, 2vw, 1rem);">
                <div style="display: inline-flex; align-items: center; justify-content: center; width: clamp(56px, 14vw, 70px); height: clamp(56px, 14vw, 70px); background: linear-gradient(135deg, rgba(16, 185, 129, 0.15) 0%, rgba(16, 185, 129, 0.05) 100%); border: 2.5px solid rgba(16, 185, 129, 0.35); border-radius: 50%; margin-bottom: 1.125rem; box-shadow: 0 4px 12px rgba(16, 185, 129, 0.15);">
                  <div style="width: clamp(18px, 4.5vw, 24px); height: clamp(18px, 4.5vw, 24px); background: #10b981; border-radius: 50%; box-shadow: 0 0 15px rgba(16, 185, 129, 0.5);"></div>
                </div>
                <div style="font-size: clamp(0.7rem, 2vw, 0.8rem); text-transform: uppercase; letter-spacing: 1px; color: var(--muted-foreground); margin-bottom: 0.75rem; font-weight: 600;">交易税收</div>
                <div class="font-bold" style="font-size: clamp(1.75rem, 5vw, 2.25rem); color: #10b981; margin-bottom: 0.5rem; line-height: 1.1;">0%</div>
                <div style="font-size: clamp(0.8rem, 2.2vw, 0.9rem); color: rgba(241, 245, 249, 0.7);">零税收</div>
              </div>
            </div>
          </div>
          
          <!-- 代币分配与项目愿景 -->
          <div class="grid grid-cols-1 md:grid-cols-2" style="gap: clamp(1.5rem, 4vw, 2rem); max-width: 1100px; margin: 0 auto;">
            <!-- 代币分配 -->
            <div class="card" style="padding: 0; overflow: hidden; border: 2px solid rgba(245, 158, 11, 0.25);">
              <div style="background: linear-gradient(135deg, rgba(245, 158, 11, 0.15) 0%, rgba(245, 158, 11, 0.05) 100%); padding: clamp(1.125rem, 3vw, 1.5rem); border-bottom: 1.5px solid rgba(245, 158, 11, 0.25);">
                <h3 class="text-primary" style="font-size: clamp(1.15rem, 3vw, 1.45rem); font-weight: 600; text-align: center; letter-spacing: 0.3px;">代币分配</h3>
              </div>
              <div style="padding: clamp(1.5rem, 4vw, 2rem) clamp(1.25rem, 3vw, 1.75rem);">
                <ul class="flex flex-col" style="gap: clamp(1.5rem, 3.5vw, 1.75rem);">
                  <li style="position: relative; padding-left: clamp(1.25rem, 3vw, 1.5rem); transition: all 0.3s ease;">
                    <div style="position: absolute; left: 0; top: 0.5rem; width: 10px; height: 10px; background: var(--primary); border-radius: 50%; box-shadow: 0 0 10px rgba(245, 158, 11, 0.5);"></div>
                    <div>
                      <div style="display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 0.625rem; margin-bottom: 0.875rem;">
                        <div>
                          <div style="font-weight: 600; font-size: clamp(1rem, 2.5vw, 1.1rem); margin-bottom: 0.375rem; color: var(--foreground);">公平Mint</div>
                          <div style="font-size: clamp(0.85rem, 2vw, 0.9rem); color: var(--muted-foreground);">社区Mint部分</div>
                        </div>
                        <div class="text-accent" style="font-size: clamp(1.25rem, 3.5vw, 1.4rem); font-weight: 700;">50%</div>
                      </div>
                      <div style="padding: clamp(0.875rem, 2vw, 1rem); background: rgba(30, 41, 59, 0.4); border-radius: 8px; border-left: 3px solid var(--primary);">
                        <span style="font-size: clamp(0.875rem, 2vw, 0.95rem); color: rgba(241, 245, 249, 0.85); line-height: 1.5;">20,100,000 代币（未Mint完全部销毁）</span>
                      </div>
                    </div>
                  </li>
                  <li style="position: relative; padding-left: clamp(1.25rem, 3vw, 1.5rem); transition: all 0.3s ease;">
                    <div style="position: absolute; left: 0; top: 0.5rem; width: 10px; height: 10px; background: var(--accent); border-radius: 50%; box-shadow: 0 0 10px rgba(249, 115, 22, 0.5);"></div>
                    <div>
                      <div style="display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 0.625rem; margin-bottom: 0.875rem;">
                        <div>
                          <div style="font-weight: 600; font-size: clamp(1rem, 2.5vw, 1.1rem); margin-bottom: 0.375rem; color: var(--foreground);">流动性池</div>
                          <div style="font-size: clamp(0.85rem, 2vw, 0.9rem); color: var(--muted-foreground);">添加流动性LP</div>
                        </div>
                        <div class="text-accent" style="font-size: clamp(1.25rem, 3.5vw, 1.4rem); font-weight: 700;">30%</div>
                      </div>
                      <div style="padding: clamp(0.875rem, 2vw, 1rem); background: rgba(30, 41, 59, 0.4); border-radius: 8px; border-left: 3px solid var(--accent);">
                        <span style="font-size: clamp(0.875rem, 2vw, 0.95rem); color: rgba(241, 245, 249, 0.85); line-height: 1.5;">12,060,000 代币</span>
                      </div>
                    </div>
                  </li>
                  <li style="position: relative; padding-left: clamp(1.25rem, 3vw, 1.5rem); transition: all 0.3s ease;">
                    <div style="position: absolute; left: 0; top: 0.5rem; width: 10px; height: 10px; background: #10b981; border-radius: 50%; box-shadow: 0 0 10px rgba(16, 185, 129, 0.5);"></div>
                    <div>
                      <div style="display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 0.625rem; margin-bottom: 0.875rem;">
                        <div>
                          <div style="font-weight: 600; font-size: clamp(1rem, 2.5vw, 1.1rem); margin-bottom: 0.375rem; color: var(--foreground);">慈善捐赠</div>
                          <div style="font-size: clamp(0.85rem, 2vw, 0.9rem); color: var(--muted-foreground);">GIGGLE官方慈善钱包</div>
                        </div>
                        <div style="font-size: clamp(1.25rem, 3.5vw, 1.4rem); font-weight: 700; color: #10b981;">20%</div>
                      </div>
                      <div style="padding: clamp(0.875rem, 2vw, 1rem); background: rgba(16, 185, 129, 0.1); border-radius: 8px; border-left: 3px solid #10b981;">
                        <span style="font-size: clamp(0.875rem, 2vw, 0.95rem); color: rgba(241, 245, 249, 0.85); line-height: 1.5;">8,040,000 代币，支持教育及公益事业</span>
                      </div>
                    </div>
                  </li>
                </ul>
              </div>
            </div>
            
            <!-- 项目愿景 -->
            <div class="card" style="padding: 0; overflow: hidden; border: 2px solid rgba(249, 115, 22, 0.25);">
              <div style="background: linear-gradient(135deg, rgba(249, 115, 22, 0.15) 0%, rgba(249, 115, 22, 0.05) 100%); padding: clamp(1.125rem, 3vw, 1.5rem); border-bottom: 1.5px solid rgba(249, 115, 22, 0.25);">
                <h3 style="font-size: clamp(1.15rem, 3vw, 1.45rem); font-weight: 600; text-align: center; color: var(--accent); letter-spacing: 0.3px;">项目愿景</h3>
              </div>
              <div style="padding: clamp(1.5rem, 4vw, 2rem) clamp(1.25rem, 3vw, 1.75rem);">
                <ul class="flex flex-col" style="gap: clamp(1.75rem, 4vw, 2.25rem);">
                  <li style="position: relative; padding-left: clamp(1.25rem, 3vw, 1.5rem);">
                    <div style="position: absolute; left: 0; top: 0.5rem; width: 10px; height: 10px; background: #10b981; border-radius: 50%; box-shadow: 0 0 10px rgba(16, 185, 129, 0.5);"></div>
                    <div>
                      <div style="font-weight: 600; font-size: clamp(1rem, 2.5vw, 1.1rem); margin-bottom: 0.75rem; color: var(--foreground);">慈善+协议新模式</div>
                      <div style="font-size: clamp(0.875rem, 2.2vw, 0.95rem); color: rgba(241, 245, 249, 0.8); line-height: 1.7;">GIGGLE402 致力于在 BSC 链上探索「慈善 + 协议」的新模式。每一次 Mint，都是一次链上微公益。</div>
                    </div>
                  </li>
                  <li style="position: relative; padding-left: clamp(1.25rem, 3vw, 1.5rem);">
                    <div style="position: absolute; left: 0; top: 0.5rem; width: 10px; height: 10px; background: var(--primary); border-radius: 50%; box-shadow: 0 0 10px rgba(245, 158, 11, 0.5);"></div>
                    <div>
                      <div style="font-weight: 600; font-size: clamp(1rem, 2.5vw, 1.1rem); margin-bottom: 0.75rem; color: var(--foreground);">核心精神</div>
                      <div style="font-size: clamp(0.875rem, 2.2vw, 0.95rem); color: rgba(241, 245, 249, 0.8); line-height: 1.7;">公平、公链、慈善共建、情绪治愈，是 GIGGLE402 的核心精神。</div>
                    </div>
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </section>
      </main>
      <footer class="border-primary/50 border-t-2" style="background: linear-gradient(135deg, rgba(15, 23, 42, 0.95) 0%, rgba(8, 9, 8, 0.95) 100%); backdrop-filter: blur(15px); position: relative; padding: clamp(1.5rem, 4vw, 2.5rem) 0;">
        <div style="position: absolute; top: 0; left: 0; right: 0; height: 2px; background: linear-gradient(90deg, transparent, var(--primary), var(--accent), var(--primary), transparent);"></div>
        <div class="container text-center">
          <nav style="margin-bottom: clamp(0.875rem, 2vw, 1rem);">
            <div class="flex items-center justify-center" style="flex-wrap: wrap; gap: clamp(0.5rem, 1.5vw, 1rem);">
              <a class="social-link" href="https://x.com/GIGGLE402" target="_blank" rel="noopener noreferrer" style="text-transform: uppercase; font-size: clamp(0.75rem, 2vw, 0.85rem); letter-spacing: 0.5px; font-weight: 600;">
                Twitter / X
              </a>
              <a class="social-link" href="https://bscscan.com/token/0x42873167FF687a76c3f811fc574db5236563576A" target="_blank" rel="noopener noreferrer" style="text-transform: uppercase; font-size: clamp(0.75rem, 2vw, 0.85rem); letter-spacing: 0.5px; font-weight: 600;">
                BscScan
              </a>
            </div>
          </nav>
          <div style="height: 1px; background: linear-gradient(90deg, transparent, rgba(245, 158, 11, 0.4), transparent); margin: clamp(1rem, 2.5vw, 1.5rem) auto; max-width: min(300px, 80%);"></div>
          <p style="color: var(--muted-foreground); font-size: clamp(0.8rem, 2vw, 0.95rem); margin-bottom: clamp(0.5rem, 1.5vw, 0.75rem); font-weight: 500; line-height: 1.5;">
            GIGGLE402 · 慈善+协议 · 公平 · 公链 · 情绪治愈
          </p>
          <p style="color: var(--muted-foreground); font-size: clamp(0.7rem, 1.5vw, 0.85rem); opacity: 0.8;">
            &copy; 2025 GIGGLE402 Community. All rights reserved.
          </p>
        </div>
      </footer>
    </div>
    
    <script>
      // 合约地址
      const CONTRACT_ADDRESSES = {
        USDT: "0x55d398326f99059fF775485246999027B3197955",
        TOKEN: "0x42873167FF687a76c3f811fc574db5236563576A"
      };

      // 合约ABI
      const USDT_ABI = [
        "function balanceOf(address owner) view returns (uint256)",
        "function allowance(address owner, address spender) view returns (uint256)",
        "function approve(address spender, uint256 value) returns (bool)"
      ];

      const TOKEN_ABI = [
        "function balanceOf(address owner) view returns (uint256)",
        "function mint() returns (bool)",
        "function mintCount(address owner) view returns (uint256)"
      ];

      // 全局变量
      let provider;
      let signer;
      let usdtContract;
      let tokenContract;

      // 初始化
      window.addEventListener('DOMContentLoaded', async function() {
        // 等待ethers.js加载完成
        if (typeof ethers !== 'undefined') {
          initializeApp();
        } else {
          console.log('等待ethers.js加载...');
          let checkCount = 0;
          const checkInterval = setInterval(() => {
            checkCount++;
            if (typeof ethers !== 'undefined') {
              clearInterval(checkInterval);
              console.log('ethers.js已加载');
              initializeApp();
            } else if (checkCount > 100) {  // 增加到10秒超时
              clearInterval(checkInterval);
              console.error('ethers.js加载超时');
              // 尝试手动加载备用CDN
              loadBackupEthers();
            }
          }, 100);
        }
      });

      // 加载备用ethers.js
      function loadBackupEthers() {
        console.log('尝试加载备用ethers.js');
        const backupScript = document.createElement('script');
        backupScript.src = 'https://cdn.ethers.io/lib/ethers-5.7.umd.min.js';
        backupScript.onload = function() {
          console.log('备用ethers.js加载成功');
          initializeApp();
        };
        backupScript.onerror = function() {
          console.error('备用ethers.js也加载失败');
          showMessage(
            `<div style="font-weight: 600; margin-bottom: 0.5rem;">Web3库加载失败</div>
            <div style="font-size: 0.9rem; margin-bottom: 0.5rem;">请检查网络连接后刷新页面重试</div>
            <div style="font-size: 0.8rem; opacity: 0.8; margin-top: 0.5rem;">可能原因：网络受限、CDN被屏蔽等</div>`,
            "error"
          );
        };
        document.head.appendChild(backupScript);
      }

      // 初始化应用
      async function initializeApp() {
        // 检查是否已安装MetaMask
        if (window.ethereum) {
          try {
            // 尝试初始化provider
            provider = new ethers.providers.Web3Provider(window.ethereum);
            console.log('Web3 provider初始化成功');
          } catch (error) {
            console.error('初始化provider失败:', error);
            // 显示警告但不阻止页面加载
            console.log('Web3 provider初始化失败，但页面功能正常');
            return;
          }
          
          // 监听账户变化
          try {
            window.ethereum.on("accountsChanged", async (accounts) => {
              console.log('账户变化:', accounts);
              if (accounts.length === 0) {
                // 用户断开钱包
                disconnectWallet();
              } else {
                // 用户切换账户，重新连接
                showMessage("检测到账户切换，正在重新连接...", "success");
                setTimeout(() => location.reload(), 1000);
              }
            });

            window.ethereum.on("chainChanged", (chainId) => {
              console.log('网络变化:', chainId);
              // 网络切换，刷新页面
              showMessage("检测到网络切换，正在刷新...", "success");
              setTimeout(() => location.reload(), 1000);
            });
          } catch (listenerError) {
            console.error('设置事件监听器失败:', listenerError);
          }
          
          // 尝试自动重连
          try {
            const accounts = await window.ethereum.request({ method: 'eth_accounts' });
            if (accounts && accounts.length > 0) {
              // 如果之前已连接，自动重连
              console.log('检测到已连接的钱包，尝试自动重连...');
              // 不立即连接，让用户主动点击连接按钮
              console.log('等待用户主动连接钱包');
            }
          } catch (error) {
            console.log('检查自动重连状态失败:', error);
          }
        } else {
          console.log("未检测到Web3钱包");
        }
      }

      // 连接钱包
      async function connectWallet() {
        // 检查ethers.js是否加载
        if (typeof ethers === 'undefined') {
          showMessage(
            `<div style="font-weight: 600; margin-bottom: 0.5rem;">系统加载中</div>
            <div style="font-size: 0.9rem; margin-bottom: 0.5rem;">请稍候片刻后重试</div>
            <div style="font-size: 0.8rem; opacity: 0.8; margin-top: 0.5rem;">如果持续失败，请刷新页面</div>`,
            "error"
          );
          return;
        }

        if (!window.ethereum) {
          showMessage(
            `<div style="font-weight: 600; margin-bottom: 0.5rem; font-size: 1.05rem;">未检测到Web3钱包</div>
            <div style="font-size: 0.95rem; margin-bottom: 0.75rem; line-height: 1.5;">您需要安装MetaMask或其他兼容的Web3钱包才能使用此功能</div>
            <div style="display: flex; gap: 0.75rem; flex-wrap: wrap; justify-content: center;">
              <a href="https://metamask.io/download/" target="_blank" rel="noopener noreferrer" style="display: inline-block; padding: 0.5rem 1rem; background: var(--primary); color: var(--background); border-radius: 0.375rem; text-decoration: none; font-weight: 600; font-size: 0.9rem;">下载MetaMask</a>
              <a href="https://www.binance.com/zh-CN/web3wallet" target="_blank" rel="noopener noreferrer" style="display: inline-block; padding: 0.5rem 1rem; background: var(--accent); color: var(--background); border-radius: 0.375rem; text-decoration: none; font-weight: 600; font-size: 0.9rem;">币安钱包</a>
            </div>`,
            "error"
          );
          return;
        }

        const buttonWidget = document.getElementById("connectWalletWidget");
        const loadingWidget = document.getElementById("connectLoadingWidget");
        const textWidget = document.getElementById("connectTextWidget");

        if (!buttonWidget || !loadingWidget || !textWidget) {
          console.error('钱包组件元素未找到');
          showMessage(
            `<div style="font-weight: 600; margin-bottom: 0.5rem;">页面元素错误</div>
            <div style="font-size: 0.9rem;">请刷新页面重试</div>`,
            "error"
          );
          return;
        }

        try {
          showLoading(loadingWidget, textWidget, "连接中...");
          buttonWidget.disabled = true;
          
          // 请求连接钱包
          const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' });
          
          if (!accounts || accounts.length === 0) {
            throw new Error("未获取到钱包地址");
          }
          
          // 初始化provider和signer
          try {
            provider = new ethers.providers.Web3Provider(window.ethereum);
            signer = provider.getSigner();
          } catch (initError) {
            console.error('初始化provider失败:', initError);
            throw new Error("Web3库初始化失败，请刷新页面重试");
          }
          
          // 检查网络
          showLoading(loadingWidget, textWidget, "检查网络...");
          let network;
          try {
            network = await provider.getNetwork();
          } catch (networkError) {
            console.error('网络检查失败:', networkError);
            throw new Error("网络连接失败，请检查钱包设置");
          }
          
          if (network.chainId !== 56) {
            const networkName = network.name === 'unknown' ? `Chain ID ${network.chainId}` : network.name;
            showMessage(
              `<div style="font-weight: 600; margin-bottom: 0.5rem; font-size: 1.05rem;">网络错误</div>
              <div style="font-size: 0.95rem; margin-bottom: 0.5rem;">当前网络: <span style="color: var(--accent); font-weight: 600;">${networkName}</span></div>
              <div style="font-size: 0.95rem; margin-bottom: 0.75rem;">需要切换到: <span style="color: var(--primary); font-weight: 600;">Binance Smart Chain (BSC)</span></div>
              <div style="padding: 0.75rem; background: rgba(245, 158, 11, 0.1); border-radius: 0.375rem; border-left: 3px solid var(--primary); font-size: 0.9rem; text-align: left;">
                <div style="font-weight: 600; margin-bottom: 0.25rem;">如何切换到BSC网络：</div>
                <div>1. 打开MetaMask钱包</div>
                <div>2. 点击顶部网络名称</div>
                <div>3. 选择"Binance Smart Chain"</div>
                <div style="margin-top: 0.5rem; font-size: 0.85rem; opacity: 0.8;">Chain ID: 56 | RPC: https://bsc-dataseed.binance.org/</div>
              </div>`,
              "error"
            );
            hideLoading(loadingWidget, textWidget, "连接钱包");
            buttonWidget.disabled = false;
            return;
          }
          
          // 初始化合约
          showLoading(loadingWidget, textWidget, "初始化合约...");
          try {
            usdtContract = new ethers.Contract(CONTRACT_ADDRESSES.USDT, USDT_ABI, signer);
            tokenContract = new ethers.Contract(CONTRACT_ADDRESSES.TOKEN, TOKEN_ABI, signer);
          } catch (contractError) {
            console.error('合约初始化失败:', contractError);
            throw new Error("合约初始化失败，请检查网络连接");
          }
          
          // 获取账户地址
          let address;
          try {
            address = await signer.getAddress();
          } catch (addressError) {
            console.error('获取地址失败:', addressError);
            throw new Error("获取钱包地址失败");
          }
          const shortAddress = address.substring(0, 6) + '...' + address.substring(38);
          
          // 更新右上角钱包组件
          updateWalletWidget(address, shortAddress);
          
          // 加载余额
          showLoading(loadingWidget, textWidget, "加载余额...");
          await loadBalances();
          
          // 检查授权
          await checkApproval();
          
          showMessage(
            `<div style="font-weight: 600; font-size: 1.05rem; margin-bottom: 0.5rem;">✓ 连接成功！</div>
            <div style="font-size: 0.95rem; margin-bottom: 0.5rem;">钱包地址: <span style="color: var(--primary); font-weight: 600; font-family: monospace;">${shortAddress}</span></div>
            <div style="font-size: 0.9rem; opacity: 0.9;">网络: Binance Smart Chain</div>`,
            "success"
          );
        } catch (error) {
          console.error("连接钱包错误:", error);
          
          let errorMsg = "连接钱包失败";
          let errorDetail = "";
          
          if (error.code === 4001) {
            errorMsg = "连接已取消";
            errorDetail = "您取消了钱包连接请求，请重新点击连接按钮";
          } else if (error.code === -32002) {
            errorMsg = "请求待处理";
            errorDetail = "请打开MetaMask钱包并完成操作";
          } else if (error.message) {
            errorMsg = "连接失败";
            errorDetail = error.message;
          }
          
          showMessage(
            `<div style="font-weight: 600; margin-bottom: 0.5rem; font-size: 1.05rem;">${errorMsg}</div>
            <div style="font-size: 0.9rem; opacity: 0.9;">${errorDetail}</div>`,
            "error"
          );
          
          hideLoading(loadingWidget, textWidget, "连接钱包");
          if (buttonWidget) buttonWidget.disabled = false;
        }
      }

      // 更新右上角钱包组件
      function updateWalletWidget(fullAddress, shortAddress) {
        const widgetContent = document.getElementById("walletWidgetContent");
        widgetContent.innerHTML = `
          <div style="margin-bottom: 0.75rem; padding-bottom: 0.75rem; border-bottom: 1px solid rgba(245, 158, 11, 0.3);">
            <div class="wallet-widget-info" style="margin-bottom: 0.5rem;">已连接</div>
            <div class="wallet-widget-address connected" style="cursor: pointer; transition: all 0.2s;" onclick="copyAddress('${fullAddress}')" title="点击复制完整地址">${shortAddress}</div>
          </div>
          <div style="margin-bottom: 0.75rem;">
            <div style="font-size: 0.7rem; color: var(--muted-foreground); margin-bottom: 0.5rem; text-transform: uppercase; letter-spacing: 0.5px;">余额</div>
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.375rem; padding: 0.375rem; background: rgba(0, 0, 0, 0.2); border-radius: 0.25rem;">
              <span style="font-size: 0.75rem; color: var(--muted-foreground); font-weight: 500;">USDT:</span>
              <span id="widgetUsdtBalance" style="font-size: 0.8rem; color: var(--foreground); font-weight: 600; font-family: monospace;">加载中...</span>
            </div>
            <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.375rem; background: rgba(245, 158, 11, 0.1); border-radius: 0.25rem;">
              <span style="font-size: 0.75rem; color: var(--muted-foreground); font-weight: 500;">GIGGLE402:</span>
              <span id="widgetGiggle402Balance" style="font-size: 0.8rem; color: var(--primary); font-weight: 600; font-family: monospace;">加载中...</span>
            </div>
          </div>
          <button onclick="disconnectWallet()" style="width: 100%; padding: 0.5rem; background: rgba(239, 68, 68, 0.15); border: 1px solid rgba(239, 68, 68, 0.3); border-radius: 0.375rem; color: #ef4444; font-size: 0.75rem; font-weight: 600; cursor: pointer; transition: all 0.3s;" onmouseover="this.style.background='rgba(239, 68, 68, 0.25)'" onmouseout="this.style.background='rgba(239, 68, 68, 0.15)'">
            断开连接
          </button>
        `;
      }

      // 复制地址
      function copyAddress(address) {
        if (navigator.clipboard && navigator.clipboard.writeText) {
          navigator.clipboard.writeText(address).then(() => {
            showMessage(
              `<div style="font-weight: 600;">✓ 地址已复制</div>
              <div style="font-size: 0.9rem; font-family: monospace; margin-top: 0.5rem; opacity: 0.9;">${address}</div>`,
              "success"
            );
          }).catch(err => {
            console.error('复制失败:', err);
            showMessage("复制失败，请手动复制", "error");
          });
        } else {
          // 降级方案
          const textArea = document.createElement('textarea');
          textArea.value = address;
          textArea.style.position = 'fixed';
          textArea.style.left = '-9999px';
          document.body.appendChild(textArea);
          textArea.select();
          try {
            document.execCommand('copy');
            showMessage(
              `<div style="font-weight: 600;">✓ 地址已复制</div>
              <div style="font-size: 0.9rem; font-family: monospace; margin-top: 0.5rem; opacity: 0.9;">${address}</div>`,
              "success"
            );
          } catch (err) {
            console.error('复制失败:', err);
            showMessage("复制失败，请手动复制", "error");
          }
          document.body.removeChild(textArea);
        }
      }

      // 断开连接
      function disconnectWallet() {
        // 清空状态
        provider = null;
        signer = null;
        usdtContract = null;
        tokenContract = null;

        // 重置钱包组件
        const widgetContent = document.getElementById("walletWidgetContent");
        widgetContent.innerHTML = `
          <button id="connectWalletWidget" class="wallet-widget-btn" onclick="connectWallet()">
            <span class="loading-spinner" id="connectLoadingWidget" style="display: none;"></span>
            <span id="connectTextWidget">连接钱包</span>
          </button>
        `;

        // 重置按钮状态
        document.getElementById("approveBtn").disabled = true;
        document.getElementById("approveText").textContent = "步骤 1：授权 USDT";
        document.getElementById("mintBtn").disabled = true;
        document.getElementById("mintText").textContent = "步骤 2：免费mint";

        showMessage("✓ 已断开钱包连接", "success");
      }

      // 加载余额
      async function loadBalances() {
        if (!signer) return;

        try {
          const address = await signer.getAddress();
          
          // 获取 USDT 余额
          const usdtBalance = await usdtContract.balanceOf(address);
          const usdtFormatted = parseFloat(ethers.utils.formatUnits(usdtBalance, 18)).toFixed(2);
          
          // 获取 GIGGLE402 余额
          const giggle402Balance = await tokenContract.balanceOf(address);
          const giggle402Formatted = parseFloat(ethers.utils.formatUnits(giggle402Balance, 18)).toFixed(2);
          
          // 更新右上角钱包组件余额，添加动画效果
          const widgetUsdt = document.getElementById("widgetUsdtBalance");
          const widgetGiggle402 = document.getElementById("widgetGiggle402Balance");
          if (widgetUsdt) {
            widgetUsdt.style.transition = 'color 0.3s';
            widgetUsdt.style.color = 'var(--primary)';
            widgetUsdt.textContent = usdtFormatted;
            setTimeout(() => widgetUsdt.style.color = 'var(--foreground)', 600);
          }
          if (widgetGiggle402) {
            widgetGiggle402.style.transition = 'color 0.3s';
            widgetGiggle402.style.color = 'var(--accent)';
            widgetGiggle402.textContent = giggle402Formatted;
            setTimeout(() => widgetGiggle402.style.color = 'var(--primary)', 600);
          }
        } catch (error) {
          console.error("加载余额失败:", error);
        }
      }

      // 检查授权
      async function checkApproval() {
        if (!signer) return;

        try {
          const address = await signer.getAddress();
          const allowance = await usdtContract.allowance(address, CONTRACT_ADDRESSES.TOKEN);
          
          // 如果已经授权
          if (allowance.gt(0)) {
            document.getElementById("approveBtn").disabled = true;
            document.getElementById("approveText").textContent = "已授权";
            document.getElementById("mintBtn").disabled = false;
          } else {
            document.getElementById("approveBtn").disabled = false;
            document.getElementById("mintText").textContent = "步骤 2：免费mint";
            document.getElementById("mintBtn").disabled = true;
          }
        } catch (error) {
          console.error(error);
        }
      }

      // 授权 USDT
      async function approveUSDT() {
        if (!signer || !usdtContract) return;

        const button = document.getElementById("approveBtn");
        const loading = document.getElementById("approveLoading");
        const text = document.getElementById("approveText");

        try {
          showLoading(loading, text, "授权中...");
          button.disabled = true;
          
          // 授权最大金额
          const tx = await usdtContract.approve(CONTRACT_ADDRESSES.TOKEN, ethers.constants.MaxUint256);
          
          // 等待交易确认
          showLoading(loading, text, "等待区块确认...");
          await tx.wait();

          showMessage(
            `<div style="font-weight: 600;">✓ 授权成功！</div>
            <div style="font-size: 0.95rem; margin-top: 0.5rem;">现在可以进行mint了</div>`,
            "success"
          );
          text.textContent = "✓ 已授权";
          button.disabled = true;
          document.getElementById("mintBtn").disabled = false;
        } catch (error) {
          console.error(error);
          if (error.code === 4001) {
            showMessage("您已取消签名操作", "error");
          } else if (error.message && error.message.includes('insufficient')) {
            showMessage("Gas费不足，请确保有足够的BNB用于支付手续费", "error");
          } else {
            showMessage("授权失败：" + (error.reason || error.message), "error");
          }
          button.disabled = false;
        } finally {
          hideLoading(loading, text, "步骤 1：授权 USDT");
        }
      }

      // mint GIGGLE402
      async function mintGIGGLE402() {
        if (!signer || !tokenContract) {
          showMessage("请先连接钱包", "error");
          return;
        }

        const button = document.getElementById("mintBtn");
        const loading = document.getElementById("mintLoading");
        const text = document.getElementById("mintText");

        try {
          showLoading(loading, text, "准备mint...");
          button.disabled = true;
          
          // 获取当前地址
          const address = await signer.getAddress();
          
          // 检查USDT余额
          const usdtBalance = await usdtContract.balanceOf(address);
          const requiredUsdt = ethers.utils.parseUnits("1", 18); // 1 USDT
          
          if (usdtBalance.lt(requiredUsdt)) {
            throw new Error("USDT余额不足，至少需要1 USDT才能mint");
          }
          
          // 检查USDT授权额度
          const allowance = await usdtContract.allowance(address, CONTRACT_ADDRESSES.TOKEN);
          if (allowance.lt(requiredUsdt)) {
            throw new Error("USDT授权额度不足，请先完成授权操作");
          }
          
          // 检查BNB余额（用于Gas费）
          const bnbBalance = await provider.getBalance(address);
          const minBnb = ethers.utils.parseEther("0.001"); // 至少0.001 BNB
          if (bnbBalance.lt(minBnb)) {
            throw new Error("BNB余额不足，请确保有足够的BNB支付Gas费（建议至少0.005 BNB）");
          }
          
          console.log('开始mint交易...');
          showLoading(loading, text, "提交mint交易...");
          
          // 估算Gas
          let gasLimit;
          try {
            gasLimit = await tokenContract.estimateGas.mint();
            console.log('预估Gas:', gasLimit.toString());
            // 增加20%的Gas缓冲
            gasLimit = gasLimit.mul(120).div(100);
          } catch (estimateError) {
            console.warn('Gas估算失败，使用默认值:', estimateError);
            gasLimit = ethers.BigNumber.from("300000"); // 默认30万Gas
          }
          
          // 调用mint函数
          const tx = await tokenContract.mint({
            gasLimit: gasLimit
          });
          
          console.log('交易已提交:', tx.hash);
          showLoading(loading, text, "等待区块确认...");
          
          // 等待交易确认
          const receipt = await tx.wait();
          console.log('交易已确认:', receipt);

          showMessage(
            `<div style="font-weight: 600; margin-bottom: 0.5rem;">mint成功</div>
            <div style="font-size: 0.95rem; margin-bottom: 0.75rem;">您获得了 <span style="color: var(--primary); font-weight: 700;">+402 GIGGLE402</span></div>
            <a href="https://bscscan.com/tx/${tx.hash}" target="_blank" rel="noopener noreferrer" style="color: var(--primary); text-decoration: underline; font-weight: 600; display: inline-block; margin-top: 0.5rem;">查看区块链交易记录</a>`,
            "success"
          );

          // 刷新余额
          setTimeout(async () => {
            await loadBalances();
            await checkApproval();
          }, 3000);
        } catch (error) {
          console.error('Mint错误详情:', error);
          
          let errorMessage = "mint失败";
          
          if (error.code === 4001) {
            errorMessage = "您已取消签名操作";
          } else if (error.code === 'INSUFFICIENT_FUNDS') {
            errorMessage = "BNB余额不足，无法支付Gas费";
          } else if (error.message) {
            if (error.message.includes('insufficient')) {
              errorMessage = "余额不足，请确保有足够的USDT（1个）和BNB（用于Gas费）";
            } else if (error.message.includes('allowance')) {
              errorMessage = "USDT授权不足，请先完成步骤1的授权操作";
            } else if (error.message.includes('Max mint')) {
              errorMessage = "已达到最大mint次数限制（每个钱包最多100次）";
            } else if (error.message.includes('execution reverted')) {
              // 尝试解析revert原因
              const reason = error.reason || error.data?.message || '合约执行失败';
              errorMessage = `合约执行失败: ${reason}`;
            } else {
              errorMessage = error.message;
            }
          }
          
          showMessage(
            `<div style="font-weight: 600; margin-bottom: 0.5rem;">mint失败</div>
            <div style="font-size: 0.95rem; margin-bottom: 0.5rem;">${errorMessage}</div>
            <div style="font-size: 0.85rem; opacity: 0.8; margin-top: 0.5rem;">常见问题检查：</div>
            <div style="font-size: 0.85rem; opacity: 0.8;">1. 确保USDT余额 ≥ 1</div>
            <div style="font-size: 0.85rem; opacity: 0.8;">2. 确保已完成USDT授权</div>
            <div style="font-size: 0.85rem; opacity: 0.8;">3. 确保BNB余额充足（建议 ≥ 0.005）</div>
            <div style="font-size: 0.85rem; opacity: 0.8;">4. 确认网络为BSC主网</div>`,
            "error"
          );
        } finally {
          hideLoading(loading, text, "步骤 2：免费mint");
          button.disabled = false;
        }
      }

      // 显示消息
      function showMessage(text, type) {
        const msgDiv = document.getElementById("message");
        msgDiv.innerHTML = text;
        msgDiv.className = `alert alert-${type}`;
        msgDiv.style.display = "block";

        // 添加关闭按钮
        if (!msgDiv.querySelector('.alert-close')) {
          const closeBtn = document.createElement('button');
          closeBtn.className = 'alert-close';
          closeBtn.innerHTML = '&times;';
          closeBtn.style.cssText = 'position: absolute; top: 0.5rem; right: 0.5rem; background: none; border: none; color: inherit; font-size: 1.5rem; cursor: pointer; opacity: 0.7; transition: opacity 0.3s;';
          closeBtn.onmouseover = () => closeBtn.style.opacity = '1';
          closeBtn.onmouseout = () => closeBtn.style.opacity = '0.7';
          closeBtn.onclick = () => msgDiv.style.display = 'none';
          msgDiv.style.position = 'relative';
          msgDiv.appendChild(closeBtn);
        }

        // 滚动到消息位置
        msgDiv.scrollIntoView({ behavior: 'smooth', block: 'nearest' });

        if (type === "success") {
          setTimeout(() => {
            msgDiv.style.display = "none";
          }, 6000);
        }
      }

      // 显示加载状态
      function showLoading(loading, text, loadingText) {
        loading.style.display = "inline-block";
        text.textContent = loadingText;
      }

      // 隐藏加载状态
      function hideLoading(loading, text, normalText) {
        loading.style.display = "none";
        text.textContent = normalText;
      }

      // 监听账户变化
      if (window.ethereum) {
        window.ethereum.on("accountsChanged", () => {
          location.reload();
        });

        window.ethereum.on("chainChanged", () => {
          location.reload();
        });
      }
    </script>
  </body>
</html>